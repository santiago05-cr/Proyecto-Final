def test_login_exitoso(client):
    # Primero registrar usuario
    client.post("/register", data={"username": "loginok", "password": "1234"})

    response = client.post(
        "/login",
        data={"username": "loginok", "password": "1234"}
    )

    # Login exitoso puede devolver 200 o redirigir (302)
    assert response.status_code in (200, 302)
